<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>House Price Prediction — Friendly UI</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>



<div class="card">
  <h1>House Price Prediction</h1>
  <p class="lead">Enter values below or use auto-fill examples to quickly try realistic predictions.</p>

  <div class="examples">
    <button class="example-btn" onclick="fillExample('city')">City Example</button>
    <button class="example-btn" onclick="fillExample('suburb')">Suburban</button>
    <button class="example-btn" onclick="fillExample('rural')">Rural</button>
  </div>

  <!-- Location -->
  <div class="field">
    <div class="label-row">
      <label>Location Score — Distance to Job Centers (DIS)</label>
      <span class="info">1.0 — 12.0</span>
    </div>
    <input id="f1" type="number" step="0.01" placeholder="e.g. 2.4" />
    <div class="hint">Lower = closer to city. Example: 1.5 (city), 5 (suburb), 10 (outskirts).</div>
  </div>

  <!-- Size -->
  <div class="field">
    <div class="label-row">
      <label>House Size — Avg Rooms (RM)</label>
      <span class="info">3 — 9</span>
    </div>
    <input id="f2" type="number" step="0.1" placeholder="e.g. 6.0" />
    <div class="hint">3.5 (1BHK), 5.5 (2BHK), 7.0 (3BHK).</div>
  </div>

  <!-- Amenities -->
  <div class="field">
    <div class="label-row">
      <label>Amenities Accessibility — Highway Index (RAD)</label>
      <span class="info">1 — 24</span>
    </div>
    <input id="f3" type="number" step="1" placeholder="e.g. 12" />
    <div class="hint">1 (very poor), 8 (good), 20 (excellent).</div>
  </div>

  <!-- Pollution -->
  <div class="field">
    <div class="label-row">
      <label>Air Pollution Level — Nitric Oxides Concentration</label>
      <span class="info">0.30 — 0.90</span>
    </div>
    <input id="f4" type="number" step="0.01" placeholder="e.g. 0.55" />
    <div class="hint">Lower = cleaner air. <strong>Example:</strong> 0.30 (green), 0.55 (typical), 0.80 (industrial).
    </div>
  </div>

  <button class="btn btn-primary" onclick="onPredict()">Predict Price</button>

  <div id="result" hidden>
    <div id="resultText"></div>
    <div class="small" id="resultNote"></div>
  </div>

  <div style="margin-top:18px" class="small">
    <strong>Understanding inputs:</strong><br>
    • Location close to jobs → higher prices<br>
    • More rooms → higher prices<br>
    • Better road access → higher prices<br>
    • More pollution → lower prices
  </div>
</div>

<script>
  function fillExample(type) {
    if (type === 'city') {
      f1.value = 1.8; f2.value = 6.0; f3.value = 12; f4.value = 0.60;
    } else if (type === 'suburb') {
      f1.value = 4.8; f2.value = 5.0; f3.value = 6; f4.value = 0.48;
    } else {
      f1.value = 10.2; f2.value = 4.0; f3.value = 2; f4.value = 0.32;
    }
    result.hidden = true;
  }

  async function onPredict() {
    const dis = parseFloat(f1.value);
    const rm = parseFloat(f2.value);
    const rad = parseFloat(f3.value);
    const nox = parseFloat(f4.value);

    const resp = await fetch('/predict', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ features: [dis, rm, rad, nox] })
    });

    const data = await resp.json();
    const dollar = data.predicted_price * 1000;
    const inr = dollar * 85;

    result.hidden = false;
    resultText.innerText = "Predicted House Price: $" + dollar.toFixed(2);
    resultNote.innerText = "Approx Price in INR: ₹" + inr.toLocaleString();
  }
</script>